(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0ddf":function(t,e,a){},"21bb":function(t,e,a){"use strict";var s=a("2dad"),n=a.n(s);n.a},"2dad":function(t,e,a){},"2efb":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"5f6c":function(t,e,a){"use strict";var s=a("eae6"),n=a.n(s);n.a},"867d":function(t,e,a){"use strict";var s=a("0ddf"),n=a.n(s);n.a},9526:function(t,e,a){},"9c0c":function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);var s={};a.r(s),a.d(s,"TYPE_UNDEFINED",(function(){return y})),a.d(s,"TYPE_L_GOAL",(function(){return L})),a.d(s,"TYPE_L_DEFENSE",(function(){return x})),a.d(s,"TYPE_L_MID",(function(){return G})),a.d(s,"TYPE_L_OFFENSE",(function(){return N})),a.d(s,"TYPE_L_AT_GOAL",(function(){return C})),a.d(s,"TYPE_L_TIMEOUT",(function(){return M})),a.d(s,"TYPE_R_GOAL",(function(){return A})),a.d(s,"TYPE_R_DEFENSE",(function(){return D})),a.d(s,"TYPE_R_MID",(function(){return F})),a.d(s,"TYPE_R_OFFENSE",(function(){return P})),a.d(s,"TYPE_R_AT_GOAL",(function(){return R})),a.d(s,"TYPE_R_TIMEOUT",(function(){return j})),a.d(s,"TYPE_N_BALL_LOST",(function(){return I})),a.d(s,"TYPE_START",(function(){return Y})),a.d(s,"TYPE_END",(function(){return $})),a.d(s,"lookup",(function(){return U})),a.d(s,"lookupName",(function(){return V})),a.d(s,"getEventName",(function(){return H})),a.d(s,"default",(function(){return q})),a.d(s,"EVENTS",(function(){return B})),a.d(s,"getTypes",(function(){return z})),a.d(s,"notTypes",(function(){return W})),a.d(s,"getType",(function(){return K})),a.d(s,"notType",(function(){return Q})),a.d(s,"hasPrev",(function(){return X})),a.d(s,"hasNext",(function(){return Z})),a.d(s,"includes",(function(){return tt})),a.d(s,"isLeft",(function(){return et})),a.d(s,"isRight",(function(){return at})),a.d(s,"not",(function(){return st}));a("7db0"),a("b0c0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,i=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("md-app",{attrs:{"md-mode":"fixed"}},[a("md-app-toolbar",[a("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showNavigation=!0}}},[a("md-icon",[t._v("menu")])],1),a("span",{staticClass:"md-title"},[t._v("fcl")])],1),a("md-app-drawer",{attrs:{"md-active":t.showNavigation,"md-swipeable":""},on:{"update:mdActive":function(e){t.showNavigation=e},"update:md-active":function(e){t.showNavigation=e}}},[a("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[t._v(" Navigation ")]),a("md-list",[a("md-list-item",{attrs:{to:"/clicker"},on:{click:function(e){t.showNavigation=!1}}},[a("md-icon",[t._v("track_changes")]),a("span",{staticClass:"md-list-item-text"},[t._v("Clicker")])],1),a("md-list-item",{attrs:{"md-expand":""}},[a("md-icon",[t._v("timeline")]),a("span",{staticClass:"md-list-item-text"},[t._v("Recent Games")]),a("md-list",{attrs:{slot:"md-expand"},slot:"md-expand"},t._l(t.games,(function(e){return a("md-list-item",{key:e.id,staticClass:"md-inset",attrs:{to:"/stats/"+e.id},on:{click:function(e){t.showNavigation=!1}}},[t._v(t._s(e.name())+" ("+t._s(new Date(e.startTime()).toLocaleDateString())+")")])})),1)],1),a("md-list-item",{attrs:{to:"/import"}},[a("md-icon",[t._v("import_export")]),a("span",{staticClass:"md-list-item-text"},[t._v("Import")])],1),a("md-list-item",{on:{click:function(e){return t.deleteStorage()}}},[a("md-icon",[t._v("delete_sweep")]),a("span",{staticClass:"md-list-item-text"},[t._v("Delete Local Storage")])],1)],1)],1),a("md-app-content",[a("router-view")],1),a("md-snackbar",{attrs:{"md-position":"center","md-active":t.showSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar=e},"update:md-active":function(e){t.showSnackbar=e}}},[a("span",[t._v(t._s(t.snackbarMessage))]),t._v(" > ")])],1)],1)},o=[],l=a("2f62"),c={name:"App",data:function(){return{snackbarMessage:"",showSnackbar:!1,showNavigation:!1}},methods:{deleteStorage:function(){this.$store.commit("clear"),this.snackbarMessage="cleared local storage. refreshing page...",this.showSnackbar=!0,setTimeout((function(){window.location.reload()}),1e3)}},computed:Object(l["b"])({games:function(t){return t.games}})},d=c,u=(a("5c0b"),a("2877")),m=Object(u["a"])(d,r,o,!1,null,null,null),f=m.exports,h=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",[a("md-card-content",{staticClass:"home-content"},[a("h1",[t._v("Hej")]),a("p",[t._v(" Statistiken braucht der Sport. Der Clicker nimmt Daten bei Ballbesitz und zeigt Statistiken Ã¼ber den Spielverlauf an. ")])])],1)},b=[],p={name:"Home",components:{}},_=p,g=(a("21bb"),Object(u["a"])(_,v,b,!1,null,null,null)),E=g.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",[a("md-card-content",[a("h1",[t._v("Import")]),a("p",[t._v(" Hier kannst du Spiele importieren. ")]),a("md-field",[a("label",[t._v("JSON")]),a("md-textarea",{model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1),a("md-button",{staticClass:"md-raised md-primary",on:{click:t.importJSON}},[t._v("Importieren")]),a("md-snackbar",{attrs:{"md-position":"center","md-active":t.showSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar=e},"update:md-active":function(e){t.showSnackbar=e}}},[a("span",[t._v(t._s(t.snackbarMsg))]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar=!1}}},[t._v("Retry")])],1)],1)],1)},S=[],w=(a("c740"),a("99af"),a("4de4"),a("d81d"),a("b64b"),a("d4ec")),k=a("bee2"),O=(a("4160"),a("caad"),a("d3b7"),a("25f0"),a("2532"),a("2ca0"),a("159b"),a("ade3")),y="-1",L="0",x="1",G="2",N="3",C="4",M="5",A="6",D="7",F="8",P="9",R="10",j="11",I="12",Y="9000",$="9001",J=(n={},Object(O["a"])(n,y,"UNDEFINED"),Object(O["a"])(n,L,"TYPE_L_GOAL"),Object(O["a"])(n,x,"TYPE_L_DEFENSE"),Object(O["a"])(n,G,"TYPE_L_MID"),Object(O["a"])(n,N,"TYPE_L_OFFENSE"),Object(O["a"])(n,C,"TYPE_L_AT_GOAL"),Object(O["a"])(n,M,"TYPE_L_TIMEOUT"),Object(O["a"])(n,A,"TYPE_R_GOAL"),Object(O["a"])(n,D,"TYPE_R_DEFENSE"),Object(O["a"])(n,F,"TYPE_R_MID"),Object(O["a"])(n,P,"TYPE_R_OFFENSE"),Object(O["a"])(n,R,"TYPE_R_AT_GOAL"),Object(O["a"])(n,j,"TYPE_R_TIMEOUT"),Object(O["a"])(n,I,"TYPE_N_BALL_LOST"),Object(O["a"])(n,Y,"TYPE_START"),Object(O["a"])(n,$,"TYPE_END"),n),U=function(t){return function(e){var a=y,s="TYPE_".concat(t.toUpperCase(),"_").concat(e);return Object.keys(J).forEach((function(t){J[t]==s&&(a=t)})),a}},V=function(t){return function(e){var a=U(t)(e);return J[a]}},H=function(t){return J[t]},q=function(){function t(e,a){Object(w["a"])(this,t),this.type=y,this.timestamp=0,this.type=e,this.timestamp=a}return Object(k["a"])(t,[{key:"toString",value:function(){return"".concat(J[this.type],": ").concat(this.timestamp)}}]),t}(),B={L_GOAL:function(){return new q(L,Date.now())},L_DEFENSE:function(){return new q(x,Date.now())},L_MID:function(){return new q(G,Date.now())},L_OFFENSE:function(){return new q(N,Date.now())},L_AT_GOAL:function(){return new q(C,Date.now())},L_TIMEOUT:function(){return new q(M,Date.now())},R_GOAL:function(){return new q(A,Date.now())},R_DEFENSE:function(){return new q(D,Date.now())},R_MID:function(){return new q(F,Date.now())},R_OFFENSE:function(){return new q(P,Date.now())},R_AT_GOAL:function(){return new q(R,Date.now())},R_TIMEOUT:function(){return new q(j,Date.now())},N_BALL_LOST:function(){return new q(I,Date.now())},START:function(){return new q(Y,Date.now())},END:function(){return new q($,Date.now())}},z=function(t){return function(e){return t.includes(e.type.toString())}},W=function(t){return function(e){return!t.includes(e.type.toString())}},K=function(t){return z([t])},Q=function(t){return W([t])},X=function(t,e,a){return t.filter((function(t,s,n){return s>0&&e.includes(t.type.toString())&&a(n[s-1].type.toString())}))},Z=function(t,e,a){return t.filter((function(t,s,n){return s<n.length-1&&e.includes(t.type.toString())&&a(n[s+1].type)}))},tt=function(t){return function(e){return t.includes(e.toString())}},et=function(){return function(t){var e=J[t];return!!e&&e.startsWith("TYPE_L")}},at=function(){return function(t){var e=J[t];return!!e&&e.startsWith("TYPE_R")}},st=function(t){return function(e){return!t(e)}},nt=a("ec26"),it=a("2ef0"),rt=a.n(it),ot=(a("ac1f"),a("5319"),function(t,e,a){var s=Z(t,[e],a).length,n=Z(t,[e],st(a)).length;return s+n==0?0:s/(s+n)*100}),lt=function(t,e){var a=U(t),s="L"==t?at():et(),n=a("DEFENSE"),i=a("OFFENSE"),r=a("MID"),o=a("GOAL"),l=a("AT_GOAL"),c={defense:{retry:X(e,[n],tt([n])).length,loss:Z(e,[n],s).length,goal:X(e,[o],tt([n])).length,atGoal:X(e,[l],tt([n])).length,pass:X(e,[i],tt([n])).length},mid:{retry:X(e,[r],tt([r])).length,loss:Z(e,[r],s).length,goal:X(e,[o],tt([r])).length,atGoal:X(e,[l],tt([r])).length,pass:X(e,[i],tt([r])).length,passRate:ot(e,r,tt([i]))},offense:{retry:X(e,[i],tt([i])).length,loss:Z(e,[i],s).length,lossRate:ot(e,i,s),goal:X(e,[o],tt([i])).length,atGoal:X(e,[l],tt([i])).length,goalRate:ot(e,i,tt([o]))}};return c},ct=function(t){var e=t.filter(W([M,j])),a=lt("L",e),s=lt("R",e);return{left:{goals:e.filter(K(L)).length,atGoal:e.filter(K(C)).length,bars:a},right:{goals:e.filter(K(A)).length,atGoal:e.filter(K(R)).length,bars:s}}},dt=function(t,e){var a=U(t),s="L"==t?at():et(),n={},i={},r={},o=[];return e.forEach((function(e,o,l){if(!(o>=l.length-1)){var c=e.type.toString(),d=l[o+1].type,u=H(l[o+1].type),m=u.replace("TYPE_".concat(t,"_"),"");switch(s(d)&&(m="LOSS"),c){case a("MID"):n[m]||(n[m]=0),n[m]++;break;case a("OFFENSE"):i[m]||(i[m]=0),i[m]++;break;case a("DEFENSE"):r[m]||(r[m]=0),r[m]++;break;default:break}}})),Object.keys(r).forEach((function(t){o.push({group:"DEFENSE",variable:t,value:r[t]})})),Object.keys(n).forEach((function(t){o.push({group:"MID",variable:t,value:n[t]})})),Object.keys(i).forEach((function(t){o.push({group:"OFFENSE",variable:t,value:i[t]})})),o},ut=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(w["a"])(this,t),this.id="",this.number=-1,this.events=[],this.id=Object(nt["a"])(),this.number=e,this.events=a}return Object(k["a"])(t,[{key:"startTime",value:function(){var t=this.events.find(K(Y))||{};return t.timestamp}},{key:"endTime",value:function(){var t=this.events.find(K($))||{};return t.timestamp}},{key:"score",value:function(){var t=this.events.filter(K(L)).length,e=this.events.filter(K(A)).length;return t||e?[t,e]:[0,0]}},{key:"finished",value:function(){var t=this.events[this.events.length-1];return!(!t||t.type!=$)}},{key:"undo",value:function(){return this.events.pop()}},{key:"pushEvent",value:function(t){this.events.push(t)}},{key:"lastEvent",value:function(){if(0!=this.events.length)return this.events[this.events.length-1]}},{key:"getStatistics",value:function(){return{left:dt("L",this.events),right:dt("R",this.events)}}},{key:"goalStatistics",value:function(){var t={left:[],right:[]},e=0,a=0,s=this.startTime();return 0!=this.events.length&&s?(t.left.push({value:0,timestamp:s}),t.right.push({value:0,timestamp:s}),this.events.forEach((function(s){s.type==L&&(t.left.push({value:++e,timestamp:s.timestamp}),t.right.push({value:a,timestamp:s.timestamp})),s.type==A&&(t.right.push({value:++a,timestamp:s.timestamp}),t.left.push({value:e,timestamp:s.timestamp}))})),t):t}}]),t}(),mt=0,ft=1,ht=2,vt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(nt["a"])(),a=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[new ut(1)],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mt;Object(w["a"])(this,t),this.id="",this.leftTeam="",this.rightTeam="",this.sets=[new ut(1)],this.setIdx=0,this.state=mt,this.id=e,this.leftTeam=a,this.rightTeam=s,this.sets=n,this.state=i}return Object(k["a"])(t,[{key:"undo",value:function(){return this.sets[this.setIdx].undo()}},{key:"pushEvent",value:function(t){t.type==Y&&this.sets[this.setIdx].finished()?this.state=ft:t.type==$&&(this.state=ht),t.type==Y&&this.sets[this.setIdx].finished()&&(++this.setIdx,this.sets[this.setIdx]=new ut(this.setIdx+1)),this.sets[this.setIdx].pushEvent(t)}},{key:"name",value:function(){return"".concat(this.leftTeam," vs. ").concat(this.rightTeam)}},{key:"startTime",value:function(){return this.sets[0].startTime()||Date.now()}},{key:"endTime",value:function(){return this.sets[this.sets.length-1].endTime()}},{key:"getCurrentSet",value:function(){return this.sets[this.setIdx]}},{key:"getStatistics",value:function(){var t=this,e=rt.a.flatten(Object.keys(this.sets).map((function(e,a){return t.sets[a].events})));return{total:ct(e),sets:this.sets.map((function(t){return ct(t.events)}))}}},{key:"result",value:function(){return{leftGoals:this.sets[0].events.filter(K(L)).length,rightGoals:this.sets[0].events.filter(K(A)).length}}}],[{key:"fromJSON",value:function(e){if(!e.sets||!e.id||!e.leftTeam||!e.rightTeam)throw new TypeError("invalid game json: ".concat(JSON.stringify(e)));return new t(e.id,e.leftTeam,e.rightTeam,e.sets.map((function(t){return new ut(t.number,t.events.map((function(t){return new q(t.type,t.timestamp)})))})),e.state)}}]),t}(),bt={name:"Home",data:function(){return{textarea:"",showSnackbar:!1,snackbarMsg:""}},methods:{importJSON:function(){var t,e=this;try{var a=JSON.parse(this.textarea);t=vt.fromJSON(a)}catch(n){return this.snackbarMsg=n,void(this.showSnackbar=!0)}var s=this.$store.state.games.findIndex((function(e){return e.id==t.id}));-1!=s&&(this.snackbarMsg="game already exists: ".concat(t.name()),this.showSnackbar=!0),this.$store.dispatch("upsertGame",this.game).then((function(){e.$router.push({path:"/"})})).catch((function(t){e.showSnackbar=!0,e.snackbarMsg=t}))}},components:{}},pt=bt,_t=(a("efcc"),Object(u["a"])(pt,T,S,!1,null,null,null)),gt=_t.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",[a("md-card-header",[a("md-card-header-text",[a("div",{staticClass:"md-title"},[t._v(" "+t._s(t.game.name())+" ("+t._s(new Date(t.game.startTime()).toLocaleDateString())+") ")]),a("div",{staticClass:"md-subhead"},[a("div",[t._v(" Result: "+t._s(t.game.result().leftGoals)+" : "+t._s(t.game.result().rightGoals)+" ")])])])],1),a("md-card-content",[a("game-metrics",{attrs:{game:t.game}}),t.showJSON?a("div",{staticClass:"game-json"},[a("md-field",[a("label",[t._v("Export JSON")]),a("md-textarea",{ref:"exportjson",attrs:{readonly:""},model:{value:t.gameJSON,callback:function(e){t.gameJSON=e},expression:"gameJSON"}})],1)],1):t._e()],1),a("md-card-actions",[a("md-button",{staticClass:"md-icon-button md-raised md-primary",on:{click:function(e){return t.exportGame()}}},[a("md-icon",[t._v("import_export")])],1),a("md-button",{staticClass:"md-icon-button md-raised md-accent",on:{click:function(e){return t.deleteGame()}}},[a("md-icon",[t._v("delete")])],1)],1),a("md-snackbar",{attrs:{"md-position":"center","md-active":t.showSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar=e},"update:md-active":function(e){t.showSnackbar=e}}},[a("span",[t._v(t._s(t.snackbarMsg))])])],1)},Tt=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"graph-section"},t._l(t.game.sets,(function(e){return a("div",{key:e.id,staticClass:"set-wrapper"},[a("h3",[t._v("Set "+t._s(e.number))]),a("div",{staticClass:"statistics-wrapper"},[a("goal-graph",{attrs:{stats:e.goalStatistics(),id:e.id,start:e.startTime(),end:e.endTime()}}),a("set-heatmap",{attrs:{title:t.game.leftTeam,id:"l-"+e.id,stats:e.getStatistics().left}}),a("set-heatmap",{attrs:{title:t.game.rightTeam,id:"r-"+e.id,stats:e.getStatistics().right}})],1)])})),0),a("section",{staticClass:"metrics-table-section"},[a("h3",[t._v("Game Statistics (total)")]),t.statistics&&t.statistics.total?a("md-table",{attrs:{"md-card":""}},[a("md-table-row",[a("md-table-head",[t._v("Metric")]),a("md-table-head",[t._v(t._s(t.game.leftTeam))]),a("md-table-head",[t._v(t._s(t.game.rightTeam))])],1),a("md-table-row",[a("md-table-cell",[t._v("Forward Offense %")]),a("md-table-cell",[t._v(t._s(t.statistics.total.left.bars.offense.goalRate.toFixed(0))+"% ("+t._s(t.statistics.total.left.bars.offense.goal)+" goals / "+t._s(t.statistics.total.left.bars.offense.atGoal)+" at goal)")]),a("md-table-cell",[t._v(t._s(t.statistics.total.right.bars.offense.goalRate.toFixed(0))+"% ("+t._s(t.statistics.total.right.bars.offense.goal)+" goals / "+t._s(t.statistics.total.right.bars.offense.atGoal)+" at goal)")])],1),a("md-table-row",[a("md-table-cell",[t._v("Forward Offense Retry")]),a("md-table-cell",[t._v(t._s(t.statistics.total.left.bars.offense.retry))]),a("md-table-cell",[t._v(t._s(t.statistics.total.right.bars.offense.retry))])],1),a("md-table-row",[a("md-table-cell",[t._v("Forward Loss %")]),a("md-table-cell",[t._v(t._s(t.statistics.total.left.bars.offense.lossRate.toFixed(0))+"%")]),a("md-table-cell",[t._v(t._s(t.statistics.total.right.bars.offense.lossRate.toFixed(0))+"%")])],1),a("md-table-row",[a("md-table-cell",[t._v("Mid Pass")]),a("md-table-cell",[t._v(t._s(t.statistics.total.left.bars.mid.passRate.toFixed(0))+"% ("+t._s(t.statistics.total.left.bars.mid.pass)+" pass / "+t._s(t.statistics.total.left.bars.mid.loss)+" loss)")]),a("md-table-cell",[t._v(t._s(t.statistics.total.right.bars.mid.passRate.toFixed(0))+"% ("+t._s(t.statistics.total.right.bars.mid.pass)+" pass / "+t._s(t.statistics.total.right.bars.mid.loss)+" loss) ")])],1),a("md-table-row",[a("md-table-cell",[t._v("Mid Goals")]),a("md-table-cell",[t._v(t._s(t.statistics.total.left.bars.mid.goal)+" ")]),a("md-table-cell",[t._v(t._s(t.statistics.total.right.bars.mid.goal)+" ")])],1),a("md-table-row",[a("md-table-cell",[t._v("Mid Retry")]),a("md-table-cell",[t._v(t._s(t.statistics.total.left.bars.mid.retry))]),a("md-table-cell",[t._v(t._s(t.statistics.total.right.bars.mid.retry))])],1),a("md-table-row",[a("md-table-cell",[t._v("Defense Goal")]),a("md-table-cell",[t._v(t._s(t.statistics.total.left.bars.defense.goal))]),a("md-table-cell",[t._v(t._s(t.statistics.total.right.bars.defense.goal))])],1),a("md-table-row",[a("md-table-cell",[t._v("Defense Pass")]),a("md-table-cell",[t._v(t._s(t.statistics.total.left.bars.defense.pass))]),a("md-table-cell",[t._v(t._s(t.statistics.total.right.bars.defense.pass))])],1)],1):t._e(),t._l(t.statistics.sets,(function(e,s){return a("div",{key:s,staticClass:"set-stats"},[a("h3",[t._v("Set "+t._s(s+1))]),a("md-table",{attrs:{"md-card":""}},[a("md-table-row",[a("md-table-head",[t._v("Metric")]),a("md-table-head",[t._v(t._s(t.game.leftTeam))]),a("md-table-head",[t._v(t._s(t.game.rightTeam))])],1),a("md-table-row",[a("md-table-cell",[t._v("Forward Offense %")]),a("md-table-cell",[t._v(t._s(e.left.bars.offense.goalRate.toFixed(0))+"% ("+t._s(e.left.bars.offense.goal)+" goals / "+t._s(e.left.bars.offense.atGoal)+" at goal)")]),a("md-table-cell",[t._v(t._s(e.right.bars.offense.goalRate.toFixed(0))+"% ("+t._s(e.right.bars.offense.goal)+" goals / "+t._s(e.right.bars.offense.atGoal)+" at goal)")])],1),a("md-table-row",[a("md-table-cell",[t._v("Forward Offense Retry")]),a("md-table-cell",[t._v(t._s(e.left.bars.offense.retry))]),a("md-table-cell",[t._v(t._s(e.right.bars.offense.retry))])],1),a("md-table-row",[a("md-table-cell",[t._v("Forward Loss %")]),a("md-table-cell",[t._v(t._s(e.left.bars.offense.lossRate.toFixed(0))+"%")]),a("md-table-cell",[t._v(t._s(e.right.bars.offense.lossRate.toFixed(0))+"%")])],1),a("md-table-row",[a("md-table-cell",[t._v("Mid Pass")]),a("md-table-cell",[t._v(t._s(e.left.bars.mid.passRate.toFixed(0))+"% ("+t._s(e.left.bars.mid.pass)+" pass / "+t._s(e.left.bars.mid.loss)+" loss)")]),a("md-table-cell",[t._v(t._s(e.right.bars.mid.passRate.toFixed(0))+"% ("+t._s(e.right.bars.mid.pass)+" pass / "+t._s(e.right.bars.mid.loss)+" loss) ")])],1),a("md-table-row",[a("md-table-cell",[t._v("Mid Goals")]),a("md-table-cell",[t._v(t._s(e.left.bars.mid.goal)+" ")]),a("md-table-cell",[t._v(t._s(e.right.bars.mid.goal)+" ")])],1),a("md-table-row",[a("md-table-cell",[t._v("Mid Retry")]),a("md-table-cell",[t._v(t._s(e.left.bars.mid.retry))]),a("md-table-cell",[t._v(t._s(e.right.bars.mid.retry))])],1),a("md-table-row",[a("md-table-cell",[t._v("Defense Goal")]),a("md-table-cell",[t._v(t._s(e.left.bars.defense.goal))]),a("md-table-cell",[t._v(t._s(e.right.bars.defense.goal))])],1),a("md-table-row",[a("md-table-cell",[t._v("Defense Pass")]),a("md-table-cell",[t._v(t._s(e.left.bars.defense.pass))]),a("md-table-cell",[t._v(t._s(e.right.bars.defense.pass))])],1)],1)],1)}))],2)])},wt=[],kt=a("5698"),Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{id:"goals-"+t.id}})])},yt=[],Lt=(a("a9e3"),{props:{id:{required:!0,type:String,default:"noop"},title:{required:!1,type:String,default:"Goals"},stats:{required:!0,type:Object,default:null},start:{required:!0,type:Number,default:Date.now()},end:{required:!0,type:Number,default:void 0}},data:function(){return{goalChart:null}},watch:{stats:{handler:function(t){this.stats=t,this.$forceUpdate(),this.$nextTick((function(){this.renderGoals()}))},deep:!0}},mounted:function(){this.$nextTick((function(){this.renderGoals()}))},methods:{renderGoals:function(){this.goalChart&&this.goalChart.selectAll("*").remove();var t=this.start,e=this.end||Date.now(),a={top:64,right:64,bottom:64,left:32},s=356,n=356,i=s-a.left-a.right,r=n-a.top-a.bottom,o=kt["f"]("#goals-".concat(this.id)).attr("width",s).attr("height",n);this.goalChart=o.append("g").attr("transform","translate(".concat(a.left,", ").concat(a.top,")"));var l=kt["e"]().range([r,0]).domain([0,Math.max(this.stats.left.length,this.stats.right.length)]);this.goalChart.append("g").call(kt["b"](l).ticks(Math.max(this.stats.left.length,this.stats.right.length)));var c=kt["e"]().range([0,i]).domain([0,(e-t)/1e3]);this.goalChart.append("g").attr("transform","translate(0, ".concat(r,")")).call(kt["a"](c).ticks(10)),this.goalChart.append("path").datum(this.stats.left).attr("fill","none").attr("stroke","#759ef0").attr("stroke-width",1).attr("d",kt["c"]().x((function(e){return c((e.timestamp-t)/1e3)})).y((function(t){return l(t.value)}))),this.goalChart.append("path").datum(this.stats.right).attr("fill","none").attr("stroke","#f5a3a3").attr("stroke-width",4).attr("d",kt["c"]().x((function(e){return c((e.timestamp-t)/1e3)})).y((function(t){return l(t.value)}))),o.append("text").attr("class","label").attr("x",i/2+a.left).attr("y",r+1.7*a.bottom).attr("text-anchor","middle").text("time [seconds]"),o.append("text").attr("x",i/2+a.left).attr("y",a.bottom/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text(this.title)}}}),xt=Lt,Gt=Object(u["a"])(xt,Ot,yt,!1,null,null,null),Nt=Gt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{id:"set-heatmap-"+t.id}})])},Mt=[],At={props:{stats:{required:!0,type:Array,default:null},id:{required:!0,type:String,default:"noop"},title:{required:!0,type:String,default:"noop"}},data:function(){return{heatmapChart:void 0}},watch:{stats:{handler:function(t){this.stats=t,this.$forceUpdate(),this.$nextTick((function(){this.renderHeatmap()}))},deep:!0}},mounted:function(){this.$nextTick((function(){this.renderHeatmap()}))},methods:{renderHeatmap:function(){if(this.heatmapChart&&this.heatmapChart.selectAll("*").remove(),this.stats){var t={top:64,right:64,bottom:64,left:64},e=356,a=356,s=e-t.left-t.right,n=a-t.top-t.bottom;this.heatmapChart=kt["f"]("#set-heatmap-".concat(this.id)).attr("width",e).attr("height",a);var i=this.heatmapChart.append("g").attr("transform","translate("+t.left+","+t.top+")"),r=["DEFENSE","MID","OFFENSE"],o=["GOAL","AT_GOAL","LOSS","MID","OFFENSE","TIMEOUT"],l=kt["d"]().range([0,s]).domain(r).padding(.1);i.append("g").attr("transform","translate(0,"+n+")").call(kt["a"](l));var c=kt["d"]().range([n,0]).domain(o).padding(.1);i.append("g").call(kt["b"](c));var d=kt["e"]().range(["#E2F2F5","#055C74"]).domain([1,10]);i.selectAll().data(this.stats,(function(t){return t.group+":"+t.variable})).enter().append("rect").attr("x",(function(t){return l(t.group)})).attr("y",(function(t){return c(t.variable)})).attr("width",l.bandwidth()).attr("height",c.bandwidth()).style("fill",(function(t){return d(t.value)})),this.heatmapChart.append("text").attr("x",e/2).attr("y",t.top/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text(this.title),this.heatmapChart.append("text").attr("class","label").attr("x",e/2).attr("y",a-t.bottom/4).attr("text-anchor","middle").text("events by bar")}}}},Dt=At,Ft=Object(u["a"])(Dt,Ct,Mt,!1,null,null,null),Pt=Ft.exports,Rt={props:["game"],components:{"goal-graph":Nt,"set-heatmap":Pt},data:function(){return{goalCharts:[]}},watch:{game:{handler:function(t){this.game=t,this.$forceUpdate()},deep:!0}},computed:{statistics:function(){return this.game.getStatistics()},totalGameStats:function(){var t=rt.a.flatten(this.game.sets.map((function(t){return t.events})));return{left:dt("L",t),right:dt("R",t)}}},mounted:function(){},methods:{}},jt=Rt,It=(a("ceaf"),Object(u["a"])(jt,St,wt,!1,null,null,null)),Yt=It.exports,$t={name:"Stats",components:{"game-metrics":Yt},data:function(){return{showSnackbar:!1,snackbarMsg:"",showJSON:!1}},methods:{exportGame:function(){this.showJSON=!0,this.$nextTick((function(){this.$refs.exportjson.$el.select()}))},deleteGame:function(){var t=this;this.$store.dispatch("deleteGame",this.game).then((function(){t.$router.push({path:"/"})})).catch((function(e){t.showSnackbar=!0,t.snackbarMsg=e}))}},computed:Object(l["b"])({game:function(t){var e=this;return t.games.find((function(t){return t.id==e.$route.params.id}))},gameJSON:function(){return JSON.stringify(this.game,0,2)}})},Jt=$t,Ut=(a("5f6c"),Object(u["a"])(Jt,Et,Tt,!1,null,null,null)),Vt=Ut.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("md-card",[a("md-card-content",[a("div",{staticClass:"two-col-wrapper"},[a("div",{staticClass:"main-area"},[a("div",{staticClass:"clicker"},[a("div",{staticClass:"set-results"},t._l(t.game.sets,(function(e){return a("div",{key:e.id},[t._v(" "+t._s(e.results)+" ")])})),0),a("div",{staticClass:"clicker-area"},[a("div",{staticClass:"table-section dummy"}),a("div",{staticClass:"table-section shot-at-goal right"},[a("md-button",{class:{"md-raised":!0,"md-accent":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_R_AT_GOAL)},attrs:{disabled:t.disabled},on:{click:function(e){t.pushEvent(t.GAME_EVENTS.R_AT_GOAL())}}},[t._v("Shot At Goal")])],1),a("div",{staticClass:"table-section goal right"},[a("md-button",{class:{"md-raised":!0,"md-accent":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_R_GOAL)},attrs:{disabled:t.disabled},on:{click:function(e){t.pushEvent(t.GAME_EVENTS.R_GOAL())}}},[t._v("Goal")])],1),a("div",{staticClass:"table-section defense left"},[a("md-button",{class:{"md-raised":!0,"md-primary":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_L_DEFENSE)},attrs:{disabled:t.disabled},on:{click:function(e){t.pushEvent(t.GAME_EVENTS.L_DEFENSE())}}},[t._v("Defense")])],1),a("div",{staticClass:"table-section offense right",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.R_OFFENSE())}}},[a("md-button",{class:{"md-raised":!0,"md-accent":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_R_OFFENSE)},attrs:{disabled:t.disabled}},[t._v("Offense")])],1),a("div",{staticClass:"table-section mid left",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.L_MID())}}},[a("md-button",{class:{"md-raised":!0,"md-primary":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_L_MID)},attrs:{disabled:t.disabled}},[t._v("Mid")])],1),a("div",{staticClass:"table-section mid right",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.R_MID())}}},[a("md-button",{class:{"md-raised":!0,"md-accent":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_R_MID)},attrs:{disabled:t.disabled}},[t._v("Mid")])],1),a("div",{staticClass:"table-section offense left",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.L_OFFENSE())}}},[a("md-button",{class:{"md-raised":!0,"md-primary":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_L_OFFENSE)},attrs:{disabled:t.disabled}},[t._v("Offense")])],1),a("div",{staticClass:"table-section defense right",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.R_DEFENSE())}}},[a("md-button",{class:{"md-raised":!0,"md-accent":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_R_DEFENSE)},attrs:{disabled:t.disabled}},[t._v("Defense")])],1),a("div",{staticClass:"table-section goal left",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.L_GOAL())}}},[a("md-button",{class:{"md-raised":!0,"md-primary":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_L_GOAL)},attrs:{disabled:t.disabled}},[t._v("Goal")])],1),a("div",{staticClass:"table-section shot-at-goal left"},[a("md-button",{class:{"md-raised":!0,"md-primary":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_L_AT_GOAL)},attrs:{disabled:t.disabled},on:{click:function(e){t.pushEvent(t.GAME_EVENTS.L_AT_GOAL())}}},[t._v("Shot At Goal")])],1),a("div",{staticClass:"table-section dummy"}),a("div",{staticClass:"table-section timeout left",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.L_TIMEOUT())}}},[a("md-button",{class:{"md-raised":!0,"md-primary":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_L_TIMEOUT)},attrs:{disabled:t.disabled}},[t._v("Timout")])],1),a("div",{staticClass:"table-section lost",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.N_BALL_LOST())}}},[a("md-button",{class:{"md-raised":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_N_BALL_LOST)},attrs:{disabled:t.disabled}},[t._v("Ball Lost")])],1),a("div",{staticClass:"table-section timeout right",on:{click:function(e){t.pushEvent(t.GAME_EVENTS.R_TIMEOUT())}}},[a("md-button",{class:{"md-raised":!0,"md-accent":!0,"last-event":t.isLastEvent(t.GameEvent.TYPE_R_TIMEOUT)},attrs:{disabled:t.disabled}},[t._v("Timeout")])],1)]),a("md-divider"),a("div",{staticClass:"game-controls"},[a("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.disabled},on:{click:function(e){return t.startGame()}}},[t._v(" "+t._s(1!=t.game.sets.length||t.game.getCurrentSet().finished()?"Start Set "+(t.game.sets.length+1):"Start Game"))]),a("md-button",{staticClass:"md-raised md-accent",attrs:{disabled:t.disabled},on:{click:function(e){return t.endGame()}}},[t._v("End Set "+t._s(t.game.sets.length))])],1)],1),a("md-card-actions",{attrs:{"md-alignment":"left"}},[a("md-button",{attrs:{disabled:""}},[t._v("Score: "+t._s(t.game.getCurrentSet().score()[0])+" : "+t._s(t.game.getCurrentSet().score()[1]))]),a("md-button",{attrs:{disabled:""}},[t._v("Timer: "+t._s(t.timer))]),a("md-button",{staticClass:"md-button md-raised",on:{click:function(e){return t.undo()}}},[t._v("undo")])],1)],1),a("div",{staticClass:"sidebar"},[a("div",{staticClass:"form-wrapper"},[a("md-field",[a("label",[t._v("Left Team")]),a("md-input",{attrs:{maxlength:"30"},model:{value:t.game.leftTeam,callback:function(e){t.$set(t.game,"leftTeam",e)},expression:"game.leftTeam"}})],1),a("md-field",[a("label",[t._v("Right Team")]),a("md-input",{attrs:{maxlength:"30"},model:{value:t.game.rightTeam,callback:function(e){t.$set(t.game,"rightTeam",e)},expression:"game.rightTeam"}})],1),t.sending?a("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e(),a("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit",disabled:t.sending},on:{click:function(e){return t.save()}}},[t._v(" Save")]),a("md-checkbox",{model:{value:t.showEventLog,callback:function(e){t.showEventLog=e},expression:"showEventLog"}},[t._v("show event log")])],1),t.showEventLog?a("ul",{staticClass:"event-log"},t._l(t.logs(),(function(e){return a("li",{key:e.timestamp},[t._v(" "+t._s(e.toString())+" ")])})),0):t._e()])])])],1),a("md-card",{staticClass:"metrics-card"},[a("md-card-header",[a("md-card-header-text",[t._v("Statistics ")])],1),a("md-card-content",[a("game-metrics",{attrs:{game:t.game}}),a("md-snackbar",{attrs:{"md-position":"center","md-active":t.showSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar=e},"update:md-active":function(e){t.showSnackbar=e}}},[a("span",[t._v(t._s(t.snackbarMsg))])])],1)],1)],1)},qt=[],Bt=(a("fb6a"),{name:"Clicker",components:{"game-metrics":Yt},data:function(){return{timer:0,sending:!1,disabled:!0,showSnackbar:!1,snackbarMsg:"",showEventLog:!0,game:new vt(void 0,"left team","right team"),GAME_EVENTS:B,GameEvent:s}},mounted:function(){this.startInterval()},methods:{isLastEvent:function(t){var e=this.game.getCurrentSet().lastEvent();if(e&&e.type==t)return!0},logs:function(){return this.game.getCurrentSet().events.slice().reverse()},startInterval:function(){var t=this;this.timerInterval=setInterval((function(){t.disabled||t.timer++}),1e3)},undo:function(){var t=this.game.undo();if(t)switch(t.type){case Y:this.disabled=!0;break;case $:this.disabled=!1;break}},pushEvent:function(t){this.disabled||(window.navigator.vibrate(33),this.timer=0,clearInterval(this.timerInterval),this.startInterval(),this.game.pushEvent(t),this.$forceUpdate())},startGame:function(){this.disabled=!1,this.pushEvent(B.START())},endGame:function(){this.pushEvent(B.END()),this.disabled=!0},save:function(){var t=this;if(""==this.game.leftTeam||""==this.game.rightTeam||!this.game.startTime())return this.showSnackbar=!0,void(this.snackbarMsg="invalid game. missing team name");this.sending=!0,this.$store.dispatch("saveGame",this.game).then((function(){t.sending=!1,t.showSnackbar=!0,t.snackbarMsg="saved"})).catch((function(e){t.sending=!1,t.showSnackbar=!0,t.snackbarMsg=e}))}}}),zt=Bt,Wt=(a("867d"),Object(u["a"])(zt,Ht,qt,!1,null,null,null)),Kt=Wt.exports;i["default"].use(h["a"]);var Qt=[{path:"/",name:"Home",component:E},{path:"/clicker",name:"Clicker",component:Kt},{path:"/stats/:id",name:"Stats",component:Vt},{path:"/import",name:"Import",component:gt}],Xt=new h["a"]({mode:"history",base:"/fcl",routes:Qt}),Zt=Xt;a("a434");i["default"].use(l["a"]);var te=new l["a"].Store({state:{games:[]},mutations:{clear:function(t){t.games=[]},initialize:function(t){var e=localStorage.getItem("store");if(e){var a=JSON.parse(e);a.games=a.games.map((function(t){return vt.fromJSON(t)})),this.replaceState(Object.assign(t,a))}},deleteGame:function(t,e){var a=t.games.findIndex((function(t){return t.id==e.id}));t.games.splice(a,1)},upsertGame:function(t,e){var a=t.games.findIndex((function(t){return t.id==e.id}));-1!=a?t.games[a]=e:t.games.push(e)}},actions:{deleteGame:function(t,e){var a=t.commit,s=t.state;return new Promise((function(t,n){s.games.find((function(t){return t.id==e.id}))?(a("deleteGame",e),t()):n("game not found")}))},saveGame:function(t,e){var a=t.commit;return new Promise((function(t){setTimeout((function(){a("upsertGame",e),t()}),500)}))}},modules:{}}),ee=te,ae=a("43f9"),se=a.n(ae);a("51de"),a("e094");i["default"].use(se.a),i["default"].config.productionTip=!1,ee.subscribe((function(t,e){localStorage.setItem("store",JSON.stringify(e))})),ee.commit("initialize"),Zt.beforeEach((function(t,e,a){"Stats"!=t.name||ee.state.games.find((function(e){return e.id==t.params.id}))?a():a({name:"Home"})})),new i["default"]({router:Zt,store:ee,render:function(t){return t(f)}}).$mount("#app")},ceaf:function(t,e,a){"use strict";var s=a("2efb"),n=a.n(s);n.a},eae6:function(t,e,a){},efcc:function(t,e,a){"use strict";var s=a("9526"),n=a.n(s);n.a}});
//# sourceMappingURL=app.4b598c9e.js.map